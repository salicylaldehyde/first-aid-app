const lessons=[
{id:"drsabcd",title:"DRSABCD & Unresponsive Patient Care",content:`<h3>Unresponsive and Not Breathing (Cardiac Arrest)</h3>
<p>This requires immediate action to circulate blood and oxygen to the brain and other vital organs.</p>
<h4>1. Confirm Unresponsiveness & Breathing (DRSB)</h4>
<p><strong>D</strong>anger: Check the scene for safety. <strong>R</strong>esponse: Tap the person's shoulder and shout loudly, "Are you okay?". <strong>S</strong>end for Help: Have someone call emergency services and get an AED. <strong>B</strong>reathing: Quickly check for normal breathing (look, listen, and feel for no more than 10 seconds). Agonal gasps (irregular, sudden breaths) are not normal breathing and should be treated as not breathing.</p>
<h4>2. Start CPR (30:2)</h4>
<p>Ensure the person is on their back on a firm, flat surface.</p>
<p><strong>Compressions:</strong> Place the heel of one hand in the center of their chest, with the other hand on top. Push down hard and fast, at a depth of at least 2 inches (5 cm) and a rate of 100 to 120 compressions per minute. Allow the chest to fully return to its normal position. </p>
<p><strong>Breaths (if trained):</strong> After 30 compressions, open the airway using the head-tilt/chin-lift maneuver. Give 2 rescue breaths, each lasting about 1 second.</p>
<p>Continue cycles of 30 compressions and 2 breaths (30:2) until help arrives, an AED is ready, or the person starts moving or breathing normally.</p>
<h4>3. Use an AED</h4>
<p>Turn it on as soon as it arrives and follow the voice prompts. </p>
<h3>Unconscious but Breathing (Recovery Position)</h3>
<p>If the person is breathing normally and has no obvious severe injuries (especially to the head, neck, or spine), place them in the recovery position to prevent their tongue from blocking the airway and to allow fluids to drain.</p>
<ol>
<li>Kneel beside the person and straighten both legs.</li>
<li>Place the arm nearest you at a right angle to their body, with the elbow bent and palm up.</li>
<li>Bring their other arm across their chest and place the back of that hand against the cheek nearest you, holding it in place.</li>
<li>Bend the knee farthest from you to a right angle.</li>
<li>Carefully roll the person onto their side towards you by pulling on the bent knee. The bent leg helps stabilize them.</li>
</ol>
<p>Stay with them and monitor their breathing and condition continuously until medical help arrives. </p>`},
{id:"bleeding",title:"Managing Severe Bleeding",content:`
<h3>Controlling Blood Loss</h3>
<p>The primary goal is to control blood loss and prevent shock. <strong>Call emergency services immediately.</strong></p>
<ol>
<li><strong>Apply Direct Pressure:</strong> Cover the wound with a clean cloth or sterile gauze. Press down firmly with the palm of your hand.</li>
<li><strong>Elevate:</strong> If possible and if there is no suspected fracture, elevate the injured area above the heart level to help reduce blood flow.</li>
<li><strong>Add Layers:</strong> If blood soaks through the dressing, do not remove it. Add more layers of cloth or gauze on top and continue to apply pressure.</li>
<li><strong>Embedded Objects:</strong> Do not remove deeply embedded objects. Apply pressure around the object instead.</li>
<li><strong>Tourniquet (if necessary):</strong> If the bleeding is life-threatening (e.g., spurting blood) from an arm or leg and pressure does not stop it, or in mass casualty situations, a commercially made tourniquet can be used if available and you are trained. Place it 2 inches above the wound (not on a joint) and tighten it until the bleeding stops. Note the time the tourniquet was applied.</li>
</ol>
`},
{id:"burns",title:"Burns and Scalds Treatment",content:`
<h3>Immediate Cooling</h3>
<p>Prompt cooling is key to reducing damage.</p>
<ol>
<li><strong>Cool the Burn:</strong> Run cool (not cold) or lukewarm water over the affected area for at least 10-20 minutes.</li>
<li><strong>Remove Items:</strong> Gently remove any clothing or jewelry near the burn <strong>unless</strong> it is stuck to the skin.</li>
<li><strong>Cover:</strong> Cover the burn loosely with sterile, non-stick dressing, plastic wrap (cling film), or a clean plastic bag to protect it from infection.</li>
</ol>
<h3>What NOT to Do</h3>
<p>Do NOT use ice, oil, butter, ointments, or powders on the burn, as these can cause further injury or infection.</p>
<h3>When to Seek Help</h3>
<p>Get professional help for large burns (larger than the person's hand), deep burns, burns to the face, hands, feet, or genitals, or chemical/electrical burns.</p>
`},
{id:"choking",title:"Choking Response",content:`
<h3>Conscious Adult or Child</h3>
<p>For a conscious adult or child who cannot cough, talk, or breathe, alternate between back blows and abdominal thrusts.</p>
<ol>
<li><strong>Give 5 Back Blows:</strong> Stand to the side and slightly behind the person. Support their chest with one arm and lean them forward at the waist. Strike them five times between the shoulder blades with the heel of your other hand. </li>
<li><strong>Give 5 Abdominal Thrusts (Heimlich Maneuver):</strong> Stand behind the person and wrap your arms around their waist. Make a fist with one hand and place the thumb side just above their navel. Grasp your fist with your other hand. Press inward and upward with quick, forceful thrusts. </li>
</ol>
<p><strong>Alternate:</strong> Continue alternating 5 back blows and 5 abdominal thrusts until the object is dislodged or the person becomes unconscious.</p>
<h3>If Unconscious</h3>
<p>Lower the person to the floor and begin CPR, checking the mouth for the object after each set of compressions.</p>
<p><strong>Special Cases:</strong> For pregnant or obese people, use chest thrusts instead of abdominal thrusts. For infants, use a combination of back thumps and chest thrusts.</p>
`},
{id:"fractures",title:"Fractures and Sprains (RICE)",content:`
<h3>Immobilization and Pain Management</h3>
<p>The goal is to prevent further injury and manage pain.</p>
<ol>
<li><strong>Immobilize:</strong> Keep the injured area still and avoid any movement. You may need to use pillows or rolled blankets to support the limb in the position you found it. Do not try to straighten an obvious break.</li>
<li><strong>Apply Cold:</strong> Place a covered cold pack or bag of ice on the injury to reduce swelling and pain.</li>
</ol>
<h3>When to Call for Help</h3>
<p>For severe pain, deformity, exposed bone, or suspected head/neck/spinal injuries, call emergency services immediately and do not move the person.</p>
`},
{id:"shock",title:"Treating for Shock",content:`
<h3>Life-Threatening Condition</h3>
<p>Shock is a life-threatening condition that can occur with many severe injuries or illnesses due to poor circulation. <strong>Call emergency services immediately.</strong></p>
<ol>
<li><strong>Position:</strong> Lay the person flat on their back.</li>
<li><strong>Elevate Legs:</strong> If injuries allow, raise their legs about 6-12 inches to improve blood flow to vital organs. Do not raise their legs if they have a head, neck, spinal, or severe leg injury.</li>
<li><strong>Keep Warm:</strong> Cover them with a blanket or coat to prevent heat loss and shivering.</li>
</ol>
<h3>What NOT to Do</h3>
<p>Do NOT give the person anything to eat or drink.</p>
<p><strong>Monitor:</strong> Monitor their breathing and responsiveness until help arrives.</p>
`},
{
id: "allergic-reactions",
title: "Managing Severe Allergic Reactions (Anaphylaxis)",
content: `
<h3>Severe Allergic Reactions (Anaphylaxis)</h3>
<p>Severe allergic reactions are life-threatening and require immediate intervention.</p>
<h4>Steps to take:</h4>
<ol>
<li><strong>Call for Help:</strong> Immediately call emergency services if the person has trouble breathing, swelling of the face/tongue, or signs of shock.</li>
<li><strong>Use Epinephrine:</strong> If the person has an <strong>epinephrine auto-injector</strong> (e.g., EpiPen), help them use it immediately by pressing it firmly into the outer mid-thigh. </li>
<li><strong>Positioning:</strong> Have the person lie flat with their legs elevated. If they are having trouble breathing, let them sit up. If they are vomiting, turn them on their side (recovery position).</li>
<li><strong>Stinger Removal:</strong> If caused by a bee sting, scrape the stinger off with a firm object like a credit card; do not use tweezers as they may squeeze more venom into the skin.</li>
<li><strong>Avoid Oral Intake:</strong> Do not give anything to eat or drink, as it may block the airway.</li>
</ol>
`},
{
id: "drowning",
title: "Drowning and Water Emergencies",
content: `
<h3>Responding to a Drowning Victim</h3>
<p>Drowning is often silent; once the victim is out of the water, focus on restoring breathing and warmth.</p>
<h4>Steps to take:</h4>
<ol>
<li><strong>Safe Rescue:</strong> Do not jump in unless you are a trained rescuer. Reach with a pole or throw a flotation device. </li>
<li><strong>Airway and Breathing:</strong> Place the person on a firm surface. If they are unresponsive and not breathing, start <strong>CPR</strong> immediately.</li>
<li><strong>Rescue Breaths First:</strong> Unlike standard CPR, for drowning, many protocols recommend starting with <strong>5 initial rescue breaths</strong> before chest compressions. [Image showing the head-tilt/chin-lift maneuver for rescue breaths]</li>
<li><strong>Chest Compressions:</strong> Push hard and fast in the center of the chest (100-120 compressions/minute).</li>
<li><strong>Vomiting:</strong> If the person vomits, roll them onto their side to clear the airway.</li>
<li><strong>Warmth:</strong> Remove wet clothing and cover the person with dry blankets to prevent hypothermia.</li>
<li><strong>Mandatory Hospitalization:</strong> Even if the person seems fully recovered, they <strong>must</strong> go to a hospital to check for delayed lung complications.</li>
</ol>
`},
{
id: "poisoning",
title: "Responding to Poisoning",
content: `
<h3>Suspected Poisoning</h3>
<p>Treatment varies significantly based on how the poison entered the body. Immediate action is critical.</p>
<h4>Steps to take:</h4>
<ol>
<li><strong>Contact Experts:</strong> Immediately call a <strong>Poison Control Center</strong> or emergency services.</li>
<li><strong>Identify the Source:</strong> Save the container or label to describe the substance to experts.</li>
<li><strong>Swallowed Poison:</strong> DO NOT induce vomiting unless explicitly told to do so by a professional. If the person is conscious, rinse their mouth with water.</li>
<li><strong>Inhaled Poison:</strong> Move the person to fresh air immediately. Open doors and windows if safe.</li>
<li><strong>Skin/Eye Contact:</strong>
<ul>
<li>Skin: Remove contaminated clothing and rinse the area with room-temperature water for 15-20 minutes.</li>
<li>Eyes: Gently flush the eye with lukewarm water or saline for 15-20 minutes, pouring from the inner corner to the outer corner. [Image demonstrating how to properly flush the eye for chemical or poison contact]</li>
</ul>
</li>
<li><strong>Unconscious Victim:</strong> If the person is not breathing, begin CPR.</li>
</ol>
`}
];
const scopedQuiz = {
"drsabcd": [
{q:"What is the first step when you find someone who is unresponsive?",a:["Start chest compressions immediately.","Call emergency services right away.","Check the scene for safety and the person for responsiveness and breathing.","Place them in the recovery position."],c:2},
{q:"How long should you take to check for normal breathing in an unresponsive person?",a:["At least 30 seconds.","No more than 10 seconds.","Until the chest rises twice.","Only 1-2 seconds."],c:1},
{q:"What is the ratio of compressions to breaths in standard CPR?",a:["15 compressions to 1 breath.","30 compressions to 2 breaths.","10 compressions to 2 breaths.","30 compressions to 5 breaths."],c:1},
{q:"What is the purpose of an AED (Automated External Defibrillator)?",a:["To check the person's pulse.","To provide medication directly to the heart.","To analyze the heart rhythm and deliver an electrical shock to restart it if necessary.","To help with breathing."],c:2},
{q:"If the AED analyzes the rhythm and says \"No Shock Advised,\" what should you do next?",a:["Stop all first aid and wait for the ambulance.","Remove the AED pads.","Immediately resume CPR (starting with chest compressions).","Give rescue breaths only."],c:2},
],
"bleeding": [
{q:"What is the single most effective way to stop severe bleeding?",a:["Elevating the wound above the heart.","Applying ice to the wound.","Applying firm, direct pressure to the wound with a clean cloth.","Using a tourniquet immediately for all bleeding."],c:2},
{q:"What should you do if blood soaks through the dressing you are using?",a:["Remove the soaked dressing and apply a new one.","Wring them out and reuse them.","Add more layers of cloth or gauze on top of the existing dressing and continue pressure.","Stop pressure and elevate the limb higher."],c:2},
{q:"Should you remove an object that is deeply embedded in a wound?",a:["Yes, immediately to clean the wound.","Yes, but only with sterile tweezers.","No, leave it in place and apply pressure around the object.","Only if it is small."],c:2},
{q:"When might a tourniquet be necessary?",a:["For all minor cuts.","If the bleeding is life-threatening (e.g., spurting blood) from a limb and direct pressure fails.","For any head injury with bleeding.","Only in a hospital setting."],c:1},
{q:"What are early signs of shock associated with severe blood loss?",a:["Warm, flushed skin and high energy.","Thirst, pale/clammy skin, rapid pulse, and confusion.","Extremely slow breathing.","Feeling very full after a meal."],c:1}
],
"burns": [
{q:"What is the best immediate treatment for most burns and scalds?",a:["Applying butter or ointment.","Running cool (not ice cold) water over the area for 10-20 minutes.","Breaking any blisters that form.","Applying ice directly to the burn."],c:1},
{q:"What should you do with clothing near a burn?",a:["Leave all clothing in place always.","Gently remove clothing and jewelry before swelling occurs, unless it is stuck to the skin.","Pull all clothing off forcefully.","Cut clothing only if you have scissors available."],c:1},
{q:"Which of these should you NOT apply to a burn?",a:["Plastic wrap (cling film).","Cool water.","Ice, oils, butter, or creams.","A non-stick dressing."],c:2},
{q:"When should you seek professional medical help for a burn?",a:["For all minor sunburns.","Only if the person is unconscious.","For large burns (larger than the person's hand), deep burns, or burns to sensitive areas like the face.","Never, basic first aid is enough."],c:2},
{q:"Why should you avoid using ice on a burn?",a:["It doesn't help with the pain.","It can cause frostbite and further damage the already injured skin tissue.","It makes the wound heal slower.","It causes the person to go into shock faster."],c:1}
],
"choking": [
{q:"If a person is choking but can still cough forcefully, what should you do?",a:["Immediately perform abdominal thrusts.","Encourage them to keep coughing.","Give them water to drink.","Slap them hard on the back."],c:1},
{q:"For a conscious adult who cannot cough, speak, or breathe, what is the first aid procedure?",a:["Immediately call an ambulance and wait.","Start CPR immediately.","Alternate between 5 back blows and 5 abdominal thrusts.","Give them a glass of water."],c:2},
{q:"Where should back blows be administered?",a:["On the lower back.","Between the shoulder blades.","On the top of the head.","At the base of the neck."],c:1},
{q:"If an adult choking victim becomes unconscious, what is the next step?",a:["Continue back blows.","Place them in the recovery position.","Lower them to the floor and begin CPR.","Give them water immediately."],c:2},
{q:"What motion should you use for abdominal thrusts?",a:["Gently pressing inward.","Pushing straight down.","Inward and upward with quick, forceful thrusts.","Upward only."],c:2}
],
"fractures": [
{q:"What is the main goal when caring for a suspected fracture?",a:["Straightening the bone immediately.","Encouraging movement to check mobility.","Keeping the injured area still and immobilizing it to prevent further injury.","Massaging the area to reduce pain."],c:2},
{q:"Should you try to straighten an obviously deformed or broken bone?",a:["Yes, always.","Yes, if you are gentle.","No, leave it in the position you find it and support it.","Only if the bone is sticking out of the skin."],c:2},
{q:"What can be used to help reduce swelling and pain in a sprain or fracture?",a:["A hot water bottle.","A covered cold pack or bag of ice.","Alcohol or hydrogen peroxide.","A tourniquet."],c:1},
{q:"What does RICE stand for, and for which injuries is it primarily used?",a:["Run, Ice, Check, Eat; for all injuries.","Rest, Ice, Compression, Elevation; primarily for sprains and strains.","Run, Immobilize, Check, Elevate; for all fractures.","Roll, Inject, Carry, Examine; for major trauma."],c:1},
{q:"When immobilizing a suspected limb fracture, what areas should the splint or support cover?",a:["Only the site of the break.","From the toes up to the hip.","The joints immediately above and below the fracture site.","Only the nearest joint."],c:2}
],
"shock": [
{q:"What is shock (in a medical context)?",a:["Being surprised by an event.","Feeling nervous.","A life-threatening condition where the circulatory system fails to deliver enough oxygenated blood to the body's tissues and organs.","A brief moment of unconsciousness."],c:2},
{q:"What is the first and most important action when you suspect someone is in shock?",a:["Give them a sugary drink.","Call emergency services immediately.","Slap them to keep them awake.","Start CPR immediately."],c:1},
{q:"How should you position a person who is in shock (assuming no head/neck/spinal injury)?",a:["Sitting upright in a chair.","Lying flat on their stomach.","Lying flat on their back with their legs raised slightly (6-12 inches).","In the recovery position."],c:2},
{q:"Why should you cover a person in shock with a blanket or coat?",a:["To make them feel better mentally.","To prevent heat loss and shivering, which use up energy the body needs.","To absorb excess sweat.","To keep the wound clean."],c:1},
{q:"Should you give food or drink to someone in shock?",a:["Yes, water immediately.","Yes, a sugary snack.","No, as they may need surgery and fluids could complicate things; they also might vomit.","Only a small amount of tea."],c:2}
],
"allergic-reactions": [
{q:"If a person is having trouble breathing due to an allergic reaction, which position is usually best for them?",a:["Sitting upright","Lying flat on their back","Hanging their head between their knees","Standing up and walking around"],c:0},
{q:"Where is the correct location to administer an epinephrine auto-injector (e.g., EpiPen)?",a:["In the center of the chest","In the upper arm","Into the outer mid-thigh","Into the buttocks"],c:2},
{q:"A person feels better after their epinephrine injection. What should be the next step?",a:["They should take a nap and rest","Give them a snack to boost their energy","They can drive themselves home","They must go to the hospital for professional observation"],c:3},
{q:"What is the most immediate life-saving action to take for someone showing signs of anaphylaxis?",a:["Give them an antihistamine pill","Administer an epinephrine auto-injector","Apply a cold compress to the site of the sting","Have them drink plenty of water"],c:1},
{q:"How should you remove a bee stinger from the skin?",a:["Squeeze it out with your fingers","Use tweezers to pull it out","Scrape it off with a firm object like a credit card","Burn the area with a match"],c:2},
],
"drowning": [
{q:"When performing CPR on a drowning victim, what is the recommended first step after bringing them to land?",a:["30 chest compressions","Shaking the victim to wake them up","5 initial rescue breaths","Checking for a pulse for 2 minutes"],c:2},
{q:"What is the safest way for an untrained person to rescue someone from the water?",a:["Jump in and swim to them immediately","Use a \"Reach or Throw\" technique (e.g., a pole or life ring)","Form a human chain with others","Wait for the person to lose consciousness first"],c:1},
{q:"What should you do if a drowning victim begins to vomit during rescue?",a:["Keep them on their back and continue CPR","Stop all first aid immediately","Turn them onto their side (recovery position) to clear the airway","Hold their mouth shut"],c:2},
{q:"What is the correct depth for chest compressions on an adult during CPR?",a:["About 1 inch","As deep as you can possibly push","At least 2 inches (5cm)","4 inches"],c:2},
{q:"Why must a drowning victim go to the hospital even if they feel \"fine\" after being rescued?",a:["To check for delayed lung complications or fluid buildup","To fill out mandatory police reports","To get a warm shower","It is not necessary if they are awake and talking"],c:0},
],
"poisoning": [
{q:"If a chemical has splashed into a person's eye, what is the recommended immediate action?",a:["Rub the eye to remove the chemical","Cover the eye with a dry cloth","Wait 5 minutes to see if the irritation stops","Flush the eye with clean water or saline for 15–20 minutes"],c:3},
{q:"If you suspect someone has swallowed a poisonous substance, what is the most important initial step?",a:["Give them milk to coat the stomach","Force them to vomit immediately","Call a Poison Control Center or emergency services","Have them eat a heavy meal"],c:2},
{q:"If a person has a poisonous chemical on their skin, what should you generally do?",a:["Apply a warm compress to the area","Rinse the area with lukewarm running water for at least 15 minutes","Rub the area vigorously with a towel","Apply a thick layer of oil or butter"],c:1},
{q:"When calling Poison Control, what info is most helpful to provide?",a:["The person's height and weight","The name of the substance and how much was taken","The person's medical insurance provider","The temperature of the room"],c:1},
{q:"What should you do if you find someone unconscious in a room with suspected toxic gas/fumes?",a:["Perform CPR inside the room immediately","Open a window and wait 10 minutes before entering","Ensure your own safety and move the victim to fresh air if safe","Leave the person there and go find a mask"],c:2},
]
};
function getCurrentQuizData() {
const lessonId = new URLSearchParams(location.search).get("lesson");
return scopedQuiz[lessonId] || [];
}
function loadLessons(){
let list=document.getElementById("lesson-list");
list.innerHTML = ''; // Clear previous content
lessons.forEach(l=>{
let imgFile;
switch(l.id) {
case 'drsabcd': imgFile = 'drsabcd-illustration.png'; break;
case 'bleeding': imgFile = 'bleeding-illustration.png'; break;
case 'burns': imgFile = 'burns-illustration.png'; break;
case 'choking': imgFile = 'choking-illustration.png'; break;
case 'fractures': imgFile = 'fractures-illustration.png'; break; 
case 'shock': imgFile = 'shock-illustration.png'; break;
case 'allergic-reactions': imgFile = 'allergy-illustration.png'; break;
case 'poisoning': imgFile = 'poisoning-illustration.png'; break;
case 'drowning': imgFile = 'drowning-illustration.png'; break;
default: imgFile = 'default-cover.png'; 
}
list.innerHTML+=`<div class='card'>
<img src='images/${imgFile}' alt='${l.title} Illustration' style="max-width: 100%; height: auto; display: block; margin-bottom: 10px; border-radius: 8px;">
<h3>${l.title}</h3>
<a class='btn big primary-btn' href='lesson-view.html?id=${l.id}'>Open Module</a>
</div>`;
});
}
function loadLesson(){
const id=new URLSearchParams(location.search).get("id");
const l=lessons.find(x=>x.id===id);
document.getElementById("lesson-title").innerText=l.title;
document.getElementById("lesson-content").innerHTML=l.content; // Renders detailed HTML content
document.getElementById("quiz-link").href=`quiz.html?lesson=${id}`;
}
function loadQuiz(){
let box=document.getElementById("quiz-box");
const currentQuiz = getCurrentQuizData();
const submitButton = document.querySelector('#quiz-form button[type="submit"]');
if (submitButton) submitButton.style.display = 'block';
box.innerHTML = ''; 
if (currentQuiz.length === 0) {
box.innerHTML = '<p>No quiz questions available for this module yet.</p>';
if (submitButton) submitButton.style.display = 'none';
return;
}
currentQuiz.forEach((q,i)=>{
box.innerHTML+=`<div class='card'><p><b>Q${i+1}:</b> ${q.q}</p>
${q.a.map((op,j)=>`<label class="quiz-option"><input type='radio' name='q${i}' value='${j}'> ${op}</label>`).join("")}</div>`;
});
}
document.addEventListener('DOMContentLoaded', () => {
const quizForm = document.getElementById('quiz-form');
if (quizForm) {
quizForm.addEventListener('submit', (e) => {
e.preventDefault(); // Prevent default form submission (page reload)
let score = 0;
const currentQuiz = getCurrentQuizData();
const box = document.getElementById("quiz-box");
if (currentQuiz.length === 0) {
box.innerHTML = '<p>No quiz data to score.</p>';
return;
}
let resultsHTML = '';
currentQuiz.forEach((q, i) => {
const formData = new FormData(quizForm);
const selectedValue = formData.get(`q${i}`);
const selectedOptionIndex = selectedValue !== null ? parseInt(selectedValue) : -1;
const isCorrect = selectedOptionIndex === q.c;
if (isCorrect) {
score++;
}
let questionResultHTML = `<div class='card result-card'>
<p><b>Q${i+1}:</b> ${q.q}</p>
<p class="feedback ${isCorrect ? 'text-success' : 'text-danger'}">
${isCorrect ? '✅ Correct' : '❌ Wrong'}
</p>`;
q.a.forEach((option, j) => {
let className = '';
let marker = '';
if (j === q.c) {
className = 'correct-answer';
marker = ' (Correct)';
} else if (j === selectedOptionIndex) {
className = 'user-selected-wrong';
marker = ' (Your Answer)';
}
questionResultHTML += `<p class="quiz-option ${className}">
${option} ${marker}
</p>`;
});
questionResultHTML += `</div>`;
resultsHTML += questionResultHTML;
});
box.innerHTML = '';
const totalQuestions = currentQuiz.length;
const scoreSummary = `<div class='card score-summary'>
<h2>Quiz Results</h2>
<p class="score-text">You scored <strong>${score} out of ${totalQuestions}</strong>.</p>
<p>${score === totalQuestions ? 'Fantastic! You aced the quiz.' : 'Review the topics to improve your score.'}</p>
<a href="lessons.html" class="btn big primary-btn">Back to Modules</a>
</div>`;
box.innerHTML = scoreSummary + resultsHTML;
const submitButton = quizForm.querySelector('button[type="submit"]');
if (submitButton) submitButton.style.display = 'none';
const container = document.querySelector('.container');
if (container) {
container.scrollIntoView({ behavior: 'smooth', block: 'start' });
}
});
}
if (document.getElementById('lesson-list')) {
loadLessons();
}
});
window.loadLessons = loadLessons;
window.loadLesson = loadLesson;
window.loadQuiz = loadQuiz;
function sendMessage() {const input=document.getElementById("userInput");
if (!input) return;
const message = input.value.trim().toLowerCase();
if (message === "") return;
const chatBox = document.querySelector(".chat");
const userDiv = document.createElement("div");
userDiv.className = "user";
userDiv.innerText = message;
chatBox.appendChild(userDiv);
const aiDiv = document.createElement("div");
aiDiv.className = "ai";
if (message.includes("bleeding")) {
aiDiv.innerText ="Apply firm pressure with a clean cloth. Elevate the wound if possible. Call emergency services if bleeding continues.";}
else if (message.includes("burn")) {
aiDiv.innerText ="Cool the burn under running water for at least 10 minutes. Do not apply ice or ointments.";}
else if (message.includes("choking")) {
aiDiv.innerText ="Encourage coughing. If unable to breathe, give 5 back blows and 5 abdominal thrusts. Call emergency services.";}
else if (message.includes("cpr") || message.includes("not breathing") || message.includes("unresponsive")) {
aiDiv.innerText =
"Check responsiveness, call emergency services, and start CPR with 30 chest compressions and 2 breaths.";
}
else if (message.includes("fracture") || message.includes("broken")) {
aiDiv.innerText =
"Keep the injured area still. Do not straighten the bone. Apply a cold pack and seek medical help.";
}
else if (message.includes("shock") || message.includes("faint")) {
aiDiv.innerText =
"Lay the person flat and raise their legs (if no injury prevents it). Keep them warm and call for help. Do NOT give them food or drink.";
}
else if (message.includes("allergy") || message.includes("anaphylaxis") || message.includes("epipen")) {
aiDiv.innerText =
"Immediately use an Epinephrine Auto-Injector (EpiPen) if available, and call emergency services. Position the person flat with legs elevated, unless they have breathing difficulty.";
}
else if (message.includes("poison")) {
aiDiv.innerText =
"Call the Poison Control Center or emergency services immediately. Do NOT induce vomiting. If on skin/eyes, rinse for 15-20 minutes. ";
}
else if (message.includes("drown") || message.includes("water emergency")) {
aiDiv.innerText =
"Ensure safety before rescue. Start CPR immediately if unresponsive and not breathing, beginning with 5 initial rescue breaths. Keep them warm.";
}
else {
aiDiv.innerText =
"Please mention symptoms like bleeding, burns, choking, CPR, fracture, allergy, poisoning, or drowning for proper guidance.";
}
chatBox.appendChild(aiDiv);
input.value = "";
chatBox.scrollTop = chatBox.scrollHeight;
}